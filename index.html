<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CORNERSTONE MTSS — Learning Hub</title>
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="style.css" />
    <script src="platform.js?v=20260208d" defer></script>
    <script src="class-blocks.js" defer></script>
    <script src="home.js" defer></script>
  </head>

  <body class="home-page force-light look-35 home-details-collapsed">
    <header>
      <div class="header-top">
        <h1>
          <a href="index.html">CORNERSTONE MTSS</a>
        </h1>
        <nav class="header-actions" aria-label="Primary">
          <a class="link-btn active" aria-current="page" href="index.html">Home</a>
          <a class="link-btn" href="index.html#home-onboarding-wizard">Start</a>
        </nav>
      </div>
    </header>

    <main class="home-main">
      <section class="home-card home-hero home-hero-lite" aria-label="Welcome">
        <div>
          <div class="home-kicker">CORNERSTONE MTSS</div>
          <h2>Who is using Cornerstone right now?</h2>
          <p class="home-lede">
            Start in under a minute: pick a role, run Quick Check, and get one clear next step.
          </p>

          <div id="home-onboarding-wizard" class="home-wizard" aria-label="Getting started wizard">
            <div class="home-stepper" role="list" aria-label="Getting started steps">
              <div class="home-step" data-step-index="1" role="listitem">1. Role</div>
              <div class="home-step" data-step-index="2" role="listitem">2. Who you are</div>
              <div class="home-step" data-step-index="3" role="listitem">3. Focus</div>
              <div class="home-step" data-step-index="4" role="listitem">4. Quick Check</div>
            </div>

            <div class="home-wizard-block">
              <div class="home-field-label">Step 1 · Choose role</div>
              <div class="home-entry-segments" aria-label="Choose your pathway group">
                <button type="button" class="home-entry-segment active" data-entry-group="student">Student</button>
                <button type="button" class="home-entry-segment" data-entry-group="parent">Parent / Caregiver</button>
                <button type="button" class="home-entry-segment" data-entry-group="school">School Team</button>
              </div>
              <div id="home-team-role-wrap" class="home-team-role-wrap hidden">
                <label class="home-field-label" for="home-team-role-select">School Team role</label>
                <select id="home-team-role-select" class="home-select" aria-label="School team role">
                  <option value="teacher">Teacher</option>
                  <option value="learning-support">Learning Support</option>
                  <option value="eal">EAL</option>
                  <option value="slp">SLP</option>
                  <option value="counselor">Counselor</option>
                  <option value="psychologist">Psychologist</option>
                  <option value="admin">Administrator</option>
                  <option value="dean">Dean</option>
                </select>
              </div>
            </div>

            <div id="home-student-setup" class="home-wizard-block">
              <div class="home-field-label">Step 2 · Student details</div>
              <label class="home-field-label" for="home-student-name">Student name (nickname is okay)</label>
              <input id="home-student-name" class="home-input" type="text" autocomplete="off" placeholder="Enter student name" />
              <div class="home-field-label">Grade band (optional)</div>
              <div class="home-grade-band-row" aria-label="Choose grade band">
                <button type="button" class="home-grade-band-btn" data-grade-band="K-2">K–2</button>
                <button type="button" class="home-grade-band-btn" data-grade-band="3-5">3–5</button>
                <button type="button" class="home-grade-band-btn" data-grade-band="6-8">6–8</button>
              </div>
            </div>

            <div class="home-wizard-block">
              <div class="home-field-label">Step 3 · What are we working on today?</div>
              <div class="home-focus-options" aria-label="Choose focus">
                <button type="button" class="home-focus-btn" data-focus-value="literacy">Reading &amp; Words</button>
                <button type="button" class="home-focus-btn" data-focus-value="numeracy">Math &amp; Numbers</button>
                <button type="button" class="home-focus-btn" data-focus-value="both">Both</button>
              </div>
            </div>

            <div class="home-cta-row" aria-label="Quick start">
              <button id="home-role-launch" class="home-cta primary" type="button">Start Quick Check</button>
              <a id="home-explore-activities" class="home-cta ghost" href="#activities-grid">Explore Activities</a>
              <button id="home-toggle-workspace" class="home-cta ghost" type="button">Show Workspace Tools</button>
            </div>
          </div>
          <p id="home-role-preview" class="home-role-preview muted" aria-live="polite">
            Step 4 will recommend your best starting activity.
          </p>
        </div>

        <aside class="home-hero-panel home-hero-panel-lite" aria-label="Guided first steps">
          <div class="home-mini-title">Simple, then powerful</div>
          <div class="home-next-steps" aria-label="Guided steps">
            <div class="home-next-step"><span>1</span>Pick role</div>
            <div class="home-next-step"><span>2</span>Run Quick Check</div>
            <div class="home-next-step"><span>3</span>Start recommended path</div>
          </div>
          <div class="home-story-visual" aria-label="Cornerstone values">
            <div class="home-story-row">
              <div class="home-story-pill">Tiered support, one shared system</div>
              <div class="home-story-pill">Fast gap detection and clear intervention moves</div>
              <div class="home-story-pill">Aligned teacher, specialist, and family communication</div>
            </div>
          </div>
          <p class="home-mini-hint">Open Workspace Tools for placement, language/audio defaults, and reports.</p>
        </aside>
      </section>

      <section id="home-workspace-start" class="home-card" data-home-detail aria-label="Placement">
        <div class="home-card-header">
          <h2>Workspace Tools</h2>
          <p class="home-subtitle">
            Configure language/audio defaults and run placement from one place.
          </p>
        </div>

        <details class="home-quick-setup-details" aria-label="Language and audio setup">
          <summary>Language + Audio Setup</summary>
          <div class="home-starter-settings" aria-label="Language and audio starter">
            <label class="home-field-label" for="home-quick-language">Home language support</label>
            <select id="home-quick-language" class="home-select">
              <option value="en">English</option>
              <option value="es">Spanish (Español)</option>
              <option value="zh">Chinese (简体中文)</option>
              <option value="hi">Hindi (हिन्दी)</option>
              <option value="tl">Tagalog</option>
              <option value="ms">Malay (Bahasa Melayu)</option>
              <option value="vi">Vietnamese (Tiếng Việt)</option>
            </select>
            <label class="home-field-label" for="home-quick-voice-dialect">Narration voice</label>
            <select id="home-quick-voice-dialect" class="home-select">
              <option value="en-US">American English</option>
              <option value="en-GB">British English</option>
            </select>
            <label class="home-field-label" for="home-quick-voice-pack">Audio pack</label>
            <select id="home-quick-voice-pack" class="home-select">
              <option value="default">Default voice pack</option>
            </select>
            <label class="home-check-row compact">
              <input id="home-quick-autohear" type="checkbox" />
              <span>Auto-read word, definition, and sentence</span>
            </label>
            <p id="home-quick-voice-note" class="home-mini-hint">
              Set this once so Word Quest uses your preferred class voice right away.
            </p>
            <p id="home-quick-language-note" class="home-mini-hint">
              This sets your default reveal translation and can be changed anytime.
            </p>
          </div>
        </details>

        <div class="home-placement-grid">
          <div id="placement-summary" class="home-placement-summary" aria-live="polite"></div>
          <div class="home-cta-row" aria-label="Placement actions">
            <button id="placement-start" class="home-cta primary" type="button">Start Quick Check</button>
            <a id="placement-open-word-quest" class="home-cta ghost" href="word-quest.html">Open Word Quest</a>
          </div>
        </div>
      </section>

      <section id="learners" class="home-card" data-home-detail aria-label="Learners" data-student-hidden="true">
        <div class="home-card-header">
          <h2>Learners</h2>
          <p class="home-subtitle">Switch learners to isolate progress, placement, and activity data.</p>
        </div>

        <div class="home-progress-grid">
          <div class="home-progress-panel" aria-label="Active learner">
            <div class="home-mini-title">Active Learner</div>
            <label class="home-field-label" for="learner-active-select">Current learner</label>
            <select id="learner-active-select" class="home-select"></select>
            <div id="learner-active-meta" class="muted"></div>
          </div>

          <div class="home-progress-panel" aria-label="Add learner">
            <div class="home-mini-title">Add Learner</div>
            <label class="home-field-label" for="learner-name-input">Name</label>
            <input id="learner-name-input" class="home-input" type="text" placeholder="Learner name" />
            <label class="home-field-label" for="learner-grade-input">Grade band (optional)</label>
            <select id="learner-grade-input" class="home-select">
              <option value="">Choose…</option>
              <option value="K-2">K–2</option>
              <option value="3-5">3–5</option>
              <option value="6-8">6–8</option>
              <option value="9-12">9–12</option>
            </select>
            <div class="home-cta-row">
              <button id="learner-add-btn" class="home-cta ghost" type="button">Add learner</button>
            </div>
          </div>
        </div>

        <div class="home-progress-panel" aria-label="Learner roster">
          <div class="home-mini-title">Roster</div>
          <ul id="learner-list" class="home-learner-list"></ul>
          <div id="learner-status" class="muted home-report-status" aria-live="polite"></div>
        </div>
      </section>

      <section class="home-card" data-home-detail aria-label="Progress">
        <div class="home-card-header">
          <h2>Progress (Preview)</h2>
          <p class="home-subtitle">Data is saved on this device/browser only unless you transfer or import it on another device.</p>
        </div>

        <div class="home-progress-grid">
          <div class="home-progress-panel" aria-label="Word Quest progress">
            <div class="home-mini-title">Word Quest</div>
            <div id="progress-word-quest" class="home-progress-number">—</div>
            <div id="progress-word-quest-detail" class="muted"></div>
          </div>

          <div class="home-progress-panel" aria-label="Recent activity">
            <div class="home-mini-title">Recent Activity</div>
            <ul id="progress-activity-log" class="home-progress-list" aria-label="Activity log"></ul>
            <div id="progress-activity-empty" class="muted"></div>
          </div>
        </div>

        <div class="home-cta-row home-report-actions" aria-label="Report actions" data-student-hidden="true">
          <button id="progress-export-json" class="home-cta ghost" type="button">Export Data (JSON)</button>
          <button id="progress-export-csv" class="home-cta ghost" type="button">Export Activity (CSV)</button>
          <button id="progress-import-json" class="home-cta ghost" type="button">Import Data (JSON)</button>
          <input id="progress-import-file" class="home-file-input" type="file" accept="application/json,.json" />
        </div>
        <div id="progress-report-status" class="muted home-report-status" aria-live="polite"></div>
        <div class="home-transfer-panel" data-student-hidden="true">
          <div class="home-mini-title">Quick Device Transfer</div>
          <p class="muted">Move profile, learner roster, activity logs, role settings, PIN/recovery settings, and reports between devices.</p>
          <ol class="home-transfer-steps">
            <li>On your old device: click <strong>Generate + Copy Code</strong>.</li>
            <li>On your new device: paste the code here and click <strong>Apply Code</strong>.</li>
            <li>Refresh the page if needed to see imported role/dashboard changes.</li>
          </ol>
          <p class="home-transfer-note">Applying a code updates matching local keys and can overwrite current device values.</p>
          <label class="home-field-label" for="progress-transfer-code">Transfer code</label>
          <textarea id="progress-transfer-code" class="home-input home-transfer-code" rows="5" placeholder="Generate code here, then paste on another device and click Apply."></textarea>
          <div class="home-cta-row">
            <button id="progress-transfer-generate" class="home-cta ghost" type="button">Generate + Copy Code</button>
            <button id="progress-transfer-apply" class="home-cta ghost" type="button">Apply Code</button>
          </div>
          <div id="progress-transfer-status" class="muted home-report-status" aria-live="polite"></div>
        </div>
      </section>

      <section id="role-dashboard" class="home-card" data-home-detail aria-label="Role dashboard">
        <div class="home-card-header">
          <h2>Role Dashboard</h2>
          <p class="home-subtitle">Choose your role to get a tailored daily workflow, evidence lens, and one-click launch actions.</p>
        </div>
        <div class="home-role-controls">
          <label class="home-field-label" for="home-role-select">Role pathway</label>
          <select id="home-role-select" class="home-select" aria-label="Home role selector">
            <option value="teacher">Teacher</option>
            <option value="admin">Administrator</option>
            <option value="dean">Dean</option>
            <option value="learning-support">Learning Support Teacher</option>
            <option value="slp">Speech and Language Pathologist</option>
            <option value="eal">EAL Specialist</option>
            <option value="counselor">School Counselor</option>
            <option value="psychologist">School Psychologist</option>
            <option value="student">Student</option>
            <option value="parent">Parent / Caregiver</option>
          </select>
          <div id="home-role-signal" class="home-role-signal" aria-live="polite"></div>
          <div id="home-role-security" class="home-role-security muted" aria-live="polite"></div>
          <div class="home-pin-controls" data-student-hidden="true" aria-label="Student mode PIN controls">
            <label class="home-field-label" for="home-pin-current">Current adult PIN</label>
            <input id="home-pin-current" class="home-input" type="password" inputmode="numeric" autocomplete="off" placeholder="Enter current PIN" />
            <label class="home-field-label" for="home-pin-new">New adult PIN (4-8 digits)</label>
            <input id="home-pin-new" class="home-input" type="password" inputmode="numeric" autocomplete="off" placeholder="Enter new PIN" />
            <label class="home-field-label" for="home-pin-confirm">Confirm new PIN</label>
            <input id="home-pin-confirm" class="home-input" type="password" inputmode="numeric" autocomplete="off" placeholder="Re-enter new PIN" />
            <label class="home-check-row">
              <input id="home-pin-strict" type="checkbox" />
              <span>Strict mode (disable default fallback PIN when custom PIN exists)</span>
            </label>
            <div class="home-cta-row">
              <button id="home-pin-save" class="home-cta ghost" type="button">Save PIN</button>
              <button id="home-pin-strict-save" class="home-cta ghost" type="button">Update Lock Mode</button>
              <button id="home-pin-reset" class="home-cta ghost" type="button">Reset to Default</button>
            </div>
            <div id="home-pin-status" class="home-report-status muted" aria-live="polite"></div>
            <div class="home-recovery-panel">
              <label class="home-field-label" for="home-recovery-phrase">Recovery phrase</label>
              <textarea id="home-recovery-phrase" class="home-input home-transfer-code" rows="2" readonly></textarea>
              <div class="home-cta-row">
                <button id="home-recovery-copy" class="home-cta ghost" type="button">Copy Recovery Phrase</button>
                <button id="home-recovery-rotate" class="home-cta ghost" type="button">Regenerate Phrase</button>
              </div>
              <label class="home-field-label" for="home-recovery-input">Forgot PIN? Enter recovery phrase</label>
              <input id="home-recovery-input" class="home-input" type="text" autocomplete="off" placeholder="Enter recovery phrase to reset PIN" />
              <div class="home-cta-row">
                <button id="home-recovery-apply" class="home-cta ghost" type="button">Reset PIN With Phrase</button>
              </div>
              <div id="home-recovery-status" class="home-report-status muted" aria-live="polite"></div>
            </div>
          </div>
        </div>
        <div id="home-role-summary" class="home-role-summary"></div>
        <div id="home-role-cards" class="home-role-grid"></div>
        <div id="home-role-actions" class="home-cta-row"></div>
        <div class="home-class-block-panel" data-student-hidden="true">
          <div class="home-mini-title">Class Block Launcher (20 / 30 / 50)</div>
          <p class="home-subtitle">Uses the selected role + learner grade band. Launches auto-log into the intervention timeline.</p>
          <div id="home-class-block-grid" class="home-class-block-grid"></div>
          <div id="home-class-block-status" class="muted home-report-status" aria-live="polite"></div>
        </div>
      </section>

      <section class="home-card" data-home-detail aria-label="Skill path">
        <div class="home-card-header">
          <h2>Skill Path (Preview)</h2>
          <p class="home-subtitle">
            Start with Word Quest, then choose an “Apply” activity. This hub will evolve into a full pathway map.
          </p>
        </div>

        <div class="home-path-grid">
          <a class="home-path-step" href="word-quest.html">
            <div class="home-step-kicker">Step 1</div>
            <div class="home-step-title">Decode Quest</div>
            <div class="home-step-desc">Pattern-focused word practice with feedback, audio, and optional game modes.</div>
          </a>
          <a class="home-path-step" href="fluency.html">
            <div class="home-step-kicker">Step 2</div>
            <div class="home-step-title">Fluency Sprint</div>
            <div class="home-step-desc">Timed practice to build accuracy, rate, and confidence.</div>
          </a>
          <a class="home-path-step" href="comprehension.html">
            <div class="home-step-kicker">Step 3</div>
            <div class="home-step-title">Meaning Lab</div>
            <div class="home-step-desc">Short passages with questions and quick feedback.</div>
          </a>
          <a class="home-path-step" href="writing.html">
            <div class="home-step-kicker">Step 4</div>
            <div class="home-step-title">Writing Studio</div>
            <div class="home-step-desc">Plan → draft → revise with scaffolds and sentence starters.</div>
          </a>
        </div>
      </section>

      <section id="activities-grid" class="home-card" data-home-detail aria-label="Activities">
        <div class="home-card-header">
          <h2>Activities</h2>
          <p class="home-subtitle">Pick a module. Each stays focused and predictable for students.</p>
        </div>

        <div class="home-activity-grid">
          <a class="home-activity" href="word-quest.html">
            <div class="home-activity-title">Decode Quest</div>
            <div class="home-activity-desc">Guess the word, hear it spoken, and build pattern awareness.</div>
            <div class="home-activity-meta">Decoding • Vocabulary • Audio</div>
          </a>
          <a class="home-activity" href="cloze.html">
            <div class="home-activity-title">Sentence Lab</div>
            <div class="home-activity-desc">Fill the blanks from a word bank to strengthen context and syntax.</div>
            <div class="home-activity-meta">Syntax • Meaning • SEL prompts</div>
          </a>
          <a class="home-activity" href="comprehension.html">
            <div class="home-activity-title">Meaning Lab</div>
            <div class="home-activity-desc">Answer questions and explain thinking with scaffolds.</div>
            <div class="home-activity-meta">Comprehension • Strategy</div>
          </a>
          <a class="home-activity" href="fluency.html">
            <div class="home-activity-title">Fluency Sprint</div>
            <div class="home-activity-desc">Timed reading practice with simple tracking.</div>
            <div class="home-activity-meta">Fluency • Accuracy</div>
          </a>
          <a class="home-activity" href="madlibs.html">
            <div class="home-activity-title">Story Remix</div>
            <div class="home-activity-desc">Playful language practice with templates.</div>
            <div class="home-activity-meta">Grammar • Vocabulary • Fun</div>
          </a>
          <a class="home-activity" href="writing.html">
            <div class="home-activity-title">Writing Studio</div>
            <div class="home-activity-desc">Structured planning and drafting for stronger writing.</div>
            <div class="home-activity-meta">Writing • Organization</div>
          </a>
          <a class="home-activity" href="plan-it.html">
            <div class="home-activity-title">Intervention Studio</div>
            <div class="home-activity-desc">Executive-function scenarios: plan steps and order tasks.</div>
            <div class="home-activity-meta">SEL • EF • Routines</div>
          </a>
          <a class="home-activity" href="number-sense.html">
            <div class="home-activity-title">Number Sense Lab</div>
            <div class="home-activity-desc">Short numeracy probes with quick feedback and intervention-ready logging.</div>
            <div class="home-activity-meta">Numeracy • MTSS • Progress Monitoring</div>
          </a>
          <a class="home-activity" href="operations.html">
            <div class="home-activity-title">Strategy Studio</div>
            <div class="home-activity-desc">Strategy-first operation practice with explicit coaching and session evidence.</div>
            <div class="home-activity-meta">Operations • Conceptual Math • Intervention</div>
          </a>
          <a class="home-activity" href="teacher-report.html" data-student-hidden="true">
            <div class="home-activity-title">Impact Dashboard</div>
            <div class="home-activity-desc">Printable growth summary with standards-based mastery heatmap.</div>
            <div class="home-activity-meta">Reports • Standards • Heatmap</div>
          </a>
        </div>
      </section>
    </main>

    <div id="modal-overlay" class="hidden" aria-hidden="true"></div>

    <div id="placement-modal" class="modal hidden placement-modal" role="dialog" aria-modal="true" aria-label="Quick Check">
      <div class="modal-content">
        <button id="placement-close" class="close-btn" type="button" aria-label="Close">✕</button>
        <h2>Quick Check</h2>
        <p id="placement-subtitle" class="muted">A short adaptive check to find the best starting point.</p>

        <div id="quickcheck-stage" class="quickcheck-stage" aria-live="polite"></div>

        <div class="placement-actions" aria-label="Placement results">
          <button id="placement-calc" type="button" class="primary-btn">Start Quick Check</button>
          <a id="placement-go-word-quest" class="secondary-btn hidden" href="word-quest.html">Start Recommended Path</a>
          <button id="placement-clear" type="button" class="secondary-btn">Reset</button>
        </div>

        <div id="placement-result" class="placement-result hidden" aria-live="polite"></div>
      </div>
    </div>
  </body>
</html>
