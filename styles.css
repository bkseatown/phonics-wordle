:root{
  --bg:#f6f7fb;
  --card:#ffffff;
  --text:#1c2230;
  --muted:#5a647a;

  --tile:#ffffff;
  --tile-border:#d7dbe7;

  --key:#eef1f7;
  --key-text:#1c2230;
  --key-border:#d7dbe7;

  --correct:#3bb273;
  --present:#e3b341;
  --absent:#9aa4b2;

  --shadow: 0 10px 30px rgba(28,34,48,.10);
  --radius: 14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

header{
  padding:14px 14px 6px;
  max-width:980px;
  margin:0 auto;
}

h1{
  margin:0 0 10px;
  font-size:22px;
  letter-spacing:.2px;
}

.controls{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  background:var(--card);
  border:1px solid var(--tile-border);
  border-radius: var(--radius);
  padding:10px;
  box-shadow: var(--shadow);
}

.controls label{
  display:flex;
  gap:8px;
  align-items:center;
  font-size:14px;
  color:var(--muted);
  font-weight:600;
}

select, button, input, textarea{
  font: inherit;
}

select{
  border:1px solid var(--tile-border);
  border-radius: 10px;
  padding:8px 10px;
  background:#fff;
  color:var(--text);
}

button{
  border:1px solid var(--tile-border);
  border-radius: 12px;
  padding:10px 12px;
  background:#fff;
  color:var(--text);
  cursor:pointer;
  font-weight:700;
}

button:active{transform:translateY(1px)}
button:focus{outline:3px solid rgba(59,178,115,.25); outline-offset:2px}

main{
  max-width:980px;
  margin:0 auto;
  padding:12px 14px 26px;
}

/* Focus panel */
.focus-panel{
  background:var(--card);
  border:1px solid var(--tile-border);
  border-radius: var(--radius);
  padding:12px;
  box-shadow: var(--shadow);
  margin-bottom:12px;
}

.focus-header{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:baseline;
  flex-wrap:wrap;
}

.focus-title{font-size:16px; font-weight:900}
.focus-desc{font-size:14px; color:var(--muted); font-weight:600}
.focus-hint{margin-top:6px; font-size:14px}
.focus-examples{margin-top:4px; font-size:13px; color:var(--muted)}

.quick-tiles-row{
  margin-top:10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.q-tile{
  background:var(--key);
  border:1px solid var(--key-border);
  padding:8px 10px;
  border-radius: 12px;
  font-weight:900;
}
.hidden{display:none !important}

/* Board */
#game-board{
  display:grid;
  gap:8px;
  justify-content:center;
  padding:12px 0;
}

.tile{
  width:50px;
  height:50px;
  border-radius: 12px;
  background:var(--tile);
  border:2px solid var(--tile-border);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  font-weight:900;
  user-select:none;
}

.tile.active{
  border-color:#b9c1d6;
  box-shadow: 0 6px 16px rgba(28,34,48,.08);
}

.tile.correct{background:var(--correct); border-color:var(--correct); color:#fff}
.tile.present{background:var(--present); border-color:var(--present); color:#111}
.tile.absent{background:var(--absent); border-color:var(--absent); color:#fff}

.tile.pop{animation:pop .18s ease-out}
@keyframes pop{from{transform:scale(.96)}to{transform:scale(1)}}

/* Keyboard */
#keyboard{
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:center;
  padding:6px 0 10px;
}

.keyboard-row{
  display:flex;
  gap:6px;
  justify-content:center;
  flex-wrap:nowrap;
}

.key{
  min-width:34px;
  height:48px;
  padding:0 10px;
  border-radius: 12px;
  border:1px solid var(--key-border);
  background:var(--key);
  color:var(--key-text);
  font-weight:900;
}

.key.vowel{background:#e9f0ff}
.key.wide{min-width:64px}

.key.correct{background:var(--correct); border-color:var(--correct); color:#fff}
.key.present{background:var(--present); border-color:var(--present); color:#111}
.key.absent{background:var(--absent); border-color:var(--absent); color:#fff}

/* Hint buttons */
.hint-actions{
  display:flex;
  gap:10px;
  justify-content:center;
  margin:10px 0 0;
  flex-wrap:wrap;
}

/* Banner + Toast */
.banner{
  margin:10px auto 0;
  max-width:720px;
  text-align:center;
  background:#ecfff3;
  border:1px solid rgba(59,178,115,.35);
  color:#145a33;
  padding:10px 12px;
  border-radius: 14px;
  font-weight:800;
}

.toast-container{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:16px;
  z-index:2500;
}

.toast{
  background:#111827;
  color:#fff;
  padding:10px 12px;
  border-radius: 14px;
  box-shadow: var(--shadow);
  font-weight:700;
}

/* Modals */
.modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  z-index:2000;
}

.modal{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2100;
  padding:16px;
}

.modal.hidden{display:none !important}

.modal-content{
  width:min(680px, 96vw);
  background:var(--card);
  border:1px solid var(--tile-border);
  border-radius: 18px;
  box-shadow: var(--shadow);
  padding:16px;
}

.modal-content h2{margin:0 0 10px}
.close-btn,.close-teacher,.close-studio{
  float:right;
  width:40px;
  height:40px;
  border-radius: 12px;
  font-size:18px;
}

.modal-actions{
  display:flex;
  gap:10px;
  justify-content:flex-end;
  flex-wrap:wrap;
  margin-top:12px;
}

.definition-box{
  margin-top:10px;
  padding:10px 12px;
  border-radius: 14px;
  background:#f3f5fb;
  border:1px solid var(--tile-border);
}

.modal-syllables{color:var(--muted); font-weight:700}

/* Teacher */
.teacher-row{
  display:flex;
  gap:8px;
  align-items:center;
}
#custom-word-input{
  flex:1;
  padding:10px 12px;
  border-radius: 12px;
  border:1px solid var(--tile-border);
}
.teacher-error{color:#b42318; font-weight:800; margin-top:6px}
.teacher-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

/* Studio */
.studio-card textarea{
  width:100%;
  border:1px solid var(--tile-border);
  border-radius: 12px;
  padding:10px 12px;
}
.studio-word-display{
  font-size:22px;
  font-weight:1000;
  letter-spacing:1px;
  margin-top:4px;
}
.recording-status{font-weight:900; color:var(--muted); margin:8px 0}
.control-group{margin-top:10px}
.group-title{font-weight:900; margin-bottom:6px}
.studio-actions{display:flex; gap:10px; justify-content:flex-end; margin-top:12px; flex-wrap:wrap}

/* Mobile tweaks */
@media (max-width:520px){
  .tile{width:44px;height:44px;font-size:20px;border-radius: 12px}
  .key{height:46px;min-width:32px}
  .key.wide{min-width:60px}
}
